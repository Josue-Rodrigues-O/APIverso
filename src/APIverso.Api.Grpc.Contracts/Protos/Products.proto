syntax = "proto3";

option csharp_namespace = "APIverso.Grpc.Products";

import "google/protobuf/empty.proto";

// Models
message ProductGrpc {
  string id = 1;
  string description = 2;
  double price = 3;
}

message ProductDtoGrpc {
  string description = 1;
  double price = 2;
}

// Mensages
message GetByIdRequest {
  string id = 1;
}

message CreateProductRequest {
  ProductDtoGrpc productDtoGrpc = 1;
}

message UpdateProductRequest {
  ProductGrpc productGrpc = 1;
}

message DeleteProductRequest {
  string id = 1;
}

message DeleteProductResponse {
  bool removed = 1;
}

message ProductResponse {
  ProductGrpc productGrpc = 1;
}

message ProductsListResponse {
  repeated ProductGrpc productsGrpc = 1;
}

// Services
service ProductsGrpcService {
  rpc GetAll (google.protobuf.Empty) returns (ProductsListResponse);
  rpc GetById (GetByIdRequest) returns (ProductResponse);
  rpc Create (CreateProductRequest) returns (ProductResponse);
  rpc Update (UpdateProductRequest) returns (ProductResponse);
  rpc Delete (DeleteProductRequest) returns (ProductResponse);
}
